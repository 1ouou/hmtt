(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["login"],{"93bc":function(e,t,a){},d618:function(e,t,a){"use strict";a("93bc")},d9c9:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e._self._c;return t("div",[t("van-nav-bar",{attrs:{title:"挖金社区-登录"}}),t("van-form",{on:{submit:e.onSubmit}},[t("van-field",{attrs:{name:"mobile",label:"手机号",required:"",placeholder:"请输入11位手机号",rules:[{required:!0,pattern:/^1[3-9]\d{9}$/,message:"请填写手机号"}]},model:{value:e.user.mobile,callback:function(t){e.$set(e.user,"mobile",t)},expression:"user.mobile"}}),t("van-field",{attrs:{type:"password",name:"code",label:"密码",required:"",placeholder:"请输入6位密码",rules:[{required:!0,pattern:/^\d{6}$/,message:"请填写密码"}]},model:{value:e.user.code,callback:function(t){e.$set(e.user,"code",t)},expression:"user.code"}}),t("div",{staticStyle:{margin:"16px"}},[t("van-button",{attrs:{loading:e.isLoading,disabled:e.isLoading,"loading-text":"玩命加载中...",round:"",block:"",type:"info","native-type":"submit"}},[e._v("登录")])],1)],1)],1)},i=[],n=a("365c"),o=a("846c"),r=a("cc33"),c=a("5d2d"),d={data(){return{user:{mobile:"",code:""},isLoading:!1}},methods:{async onSubmit(e){this.isLoading=!0;try{const t=await Object(n["k"])(e);Object(o["a"])({type:"success",message:"登录成功"}),Object(r["c"])(t.data.data.token),Object(c["c"])("refresh_token",t.data.data.refresh_token),this.$router.replace({path:this.$route.query.path||"/layout/home"})}catch(t){Object(o["a"])({type:"warning",message:"账号或密码错误"})}this.isLoading=!1}}},l=d,u=(a("d618"),a("2877")),b=Object(u["a"])(l,s,i,!1,null,"590532d4",null);t["default"]=b.exports}}]);
//# sourceMappingURL=login.147868f8.js.map